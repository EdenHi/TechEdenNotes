---
---
> 在开发H5移动端网页时，适配是一个重要的环节，因为不同的设备屏幕尺寸和分辨率各异。
---

## 设置视口

在HTML头部设置视口标签，用于控制布局视口的大小和缩放：

```html

<meta name="viewport" content="width=device-width, initial-scale=1.0">
```

这行代码告诉浏览器将视口宽度设置为设备宽度，并且初始缩放比例为1。

## 使用相对单位

避免使用固定的像素（px），尽量使用相对单位如百分比（%）、视口单位（vw, vh）和弹性单位（em, rem）：

```css
/* 使用百分比 */
.container {
    width: 80%;
}

/* 使用视口单位 */
.fullscreen {
    width: 100vw;
    height: 100vh;
}

/* 使用弹性单位 */
.text {
    font-size: 1.2em;
    padding: 1rem;
}

```

## 媒体查询

使用媒体查询针对不同屏幕尺寸进行样式调整：

```css
/* 针对手机 */
@media (max-width: 600px) {
    .container {
        padding: 10px;
    }
}

/* 针对平板 */
@media (min-width: 601px) and (max-width: 1024px) {
    .container {
        padding: 20px;
    }
}

/* 针对桌面 */
@media (min-width: 1025px) {
    .container {
        padding: 30px;
    }
}

```

## 弹性盒子布局（Flexbox）和网格布局（Grid）

使用Flexbox和Grid布局可以更方便地实现响应式设计：

```css
/* Flexbox布局 */
.container {
    display: flex;
    flex-wrap: wrap;
}

.item {
    flex: 1 1 100%;
}

@media (min-width: 600px) {
    .item {
        flex: 1 1 48%;
    }
}

/* Grid布局 */
.grid-container {
    display: grid;
    grid-template-columns: 1fr;
}

@media (min-width: 600px) {
    .grid-container {
        grid-template-columns: 1fr 1fr;
    }
}

```

## 适配方案推荐

一般设计稿给定的尺寸为宽375px，无论使用rem或vw单位适配都需要重新计算。推荐使用postcss插件自动转换，如 `px-to-rem` `px-to-viewport`,使用`rem`方案还需要另外实现根元素的字体大小随视窗大小改变。
```javascript
(function () {
    function setRem() {
        // 获取视口宽度
        var viewWidth = document.documentElement.clientWidth || window.innerWidth;
        // 计算根元素字体大小，例如：将视口宽度的十分之一作为根元素字体大小
        var rootFontSize = viewWidth / 10; // 这样1rem = 视口宽度的10%,37.5px
        // 设置根元素字体大小
        document.documentElement.style.fontSize = rootFontSize + 'px';
    }

    // 初始设置
    setRem();

    // 在窗口大小变化时重新设置
    window.addEventListener('resize', setRem);
})();
// 要设置100px需要计算为（100/37.5）rem

```
